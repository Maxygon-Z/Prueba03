<!DOCTYPE html>
<html>
    <head>
        <!-- script de A-Frane version1 1.0.0 -->
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <!-- script de AR.JS con soporte de marker + location -->
        <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
        <script>
            window.addEventListener('camera-init', (data) => {
                console.log('camera-init', data);
            })

            window.addEventListener('camera-error', (error) => {
                console.log('camera-error', error);
            })

            AFRAME.registerComponent('registerevents', {
                init: function () {
                    var marker = this.el.sceneEl;
                    marker.addEventListener('markerFound', function() {
                        var markerId = marker.id;
                        console.log('Marcador Encontrado', markerId);
                    });

                    marker.addEventListener('markerLost', function() {
                        var markerId = marker.id;
                        console.log('Marcador No Encontrado', markerId);
                    });                    
                }
            });
        </script>
    </head>
    <body style="margin : 0px; overflow: hidden;">
        <a-scene embedded arjs="debugUIEnabled: false" vr-mode-ui="enabled: false;">
        	<a-assets>
        		<a-asset-item id='controlobj' src='https://github.com/Maxygon-Z/Prueba03/blob/702ad671a6d9756971f70f782ffd02819dad8b68/model/control/Controller.obj'></a-asset-item>
        		<a-asset-item id='controlmtl' src='https://github.com/Maxygon-Z/Prueba03/blob/702ad671a6d9756971f70f782ffd02819dad8b68/model/control/controller.mtl'></a-asset-item>
        	</a-assets>
            <a-marker type="pattern" url="https://github.com/Maxygon-Z/Prueba03/blob/8c7860869e06bba5af54088b849806be6dd523f7/marker/elgato.patt" registerevents>
                <a-box id="Caja1" position='0 0 0' material='opacity: 0.5; side: double;color:green;' clicked>
                    <a-torus-knot radius='0.26' radius-tubular='0.05'
                        animation="property: rotation; to:360 0 0; dur: 5000; easing: linear; loop: true">
                    </a-torus-knot>
                </a-box>
            </a-marker>
            <a-marker type='pattern' url='https://github.com/Maxygon-Z/Prueba03/blob/8c7860869e06bba5af54088b849806be6dd523f7/marker/things.patt'>
            	<a-entity obj-model='obj: #controlobj; mtl: #controlmtl' scale="0.1 -0.1 0.1" rotation="180 0 0"></a-entity>
            </a-marker>
            <a-entity camera></a-entity>
        </a-scene>
    </body>
</html>
